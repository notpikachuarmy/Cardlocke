<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gacha de Cartas - Colección</title>
    <style>
        /* FONDO Y GENERAL */
        body {
            background-color: #1a1a1a;
            color: white;
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            margin: 0;
        }

        /* SECCIÓN PRINCIPAL (CARTA ACTIVA) */
        #game-container {
            text-align: center;
            max-width: 500px;
            margin-bottom: 80px; /* Espacio antes de la galería */
        }

        .card-display {
            width: 250px;
            height: 350px;
            margin: 20px auto;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.7);
            background-size: cover;
            background-position: center;
            background-color: #333;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 4px solid #444;
        }

        .rarity-tag {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        /* COLORES DE RAREZA */
        .N { background: #888; }
        .R { background: #3a86ff; }
        .SR { background: #8338ec; }
        .SSR { background: #ffbe0b; color: black; }
        .UR { background: #ff006e; box-shadow: 0 0 15px #ff006e; }

        button {
            padding: 15px 30px;
            font-size: 1.2rem;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            transition: 0.3s;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        button:hover { transform: scale(1.05); background-color: #45a049; }

        /* --- SECCIÓN DE LA GALERÍA (FILAS DE 3) --- */
        .gallery-title {
            width: 100%;
            text-align: center;
            border-top: 1px solid #444;
            padding-top: 40px;
            margin-bottom: 30px;
        }

        .grid-coleccion {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 columnas iguales */
            gap: 20px;
            max-width: 900px;
            width: 100%;
        }

        .mini-card {
            background: #252525;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #333;
        }

        .mini-img {
            width: 100%;
            aspect-ratio: 2/3;
            background-color: #111;
            border-radius: 8px;
            background-size: cover;
            background-position: center;
            margin-bottom: 10px;
        }

        .mini-card h4 { margin: 10px 0 5px 0; font-size: 1rem; }
        .mini-card p { font-size: 0.8rem; color: #bbb; margin: 0; }

        /* Responsive para móviles: si la pantalla es pequeña, se pone en 1 o 2 columnas */
        @media (max-width: 600px) {
            .grid-coleccion { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

    <div id="game-container">
        <div id="card-visual" class="card-display" style="background-image: url('cartas/reverso.png');"></div>
        
        <div id="info-box" style="min-height: 150px;">
            <div id="rarity" class="rarity-tag" style="display:none;"></div>
            <h2 id="card-name" style="margin: 10px 0;">¿Listo para tu suerte?</h2>
            <p id="card-desc" style="color: #ccc;">Pulsa el botón para revelar una carta.</p>
        </div>

        <button onclick="sacarCarta()">REVELAR CARTA</button>
    </div>

    <h2 class="gallery-title">Colección Completa</h2>
    <div class="grid-coleccion" id="galeria">
        </div>

    <script>
        // CONFIGURACIÓN DE TUS CARTAS
        // Aquí es donde añades tus imágenes de GitHub y textos
        const cartas = [
            { nombre: "Uso Extra", rareza: "N", img: "cartas/N_UsoExtra.png", desc: "Puedes usar 1 objeto curativo adicional en un combate (además de los permitidos normalmente)." },
            { nombre: "Segundo Aliento", rareza: "R", img: "cartas/R_SegundoAliento.png", desc: "Si un Pokémon cae en el próximo combate, no muere, debe usarse antes de empezar el combate." },
            { nombre: "Reemplazo Legal", rareza: "SR", img: "cartas/SR_ReemplazoLegal.png", desc: "Puedes desechar la captura de una ruta y volver a capturar un Pokémon extra en la misma ruta." },
            { nombre: "Intercambio Permitido", rareza: "SSR", img: "cartas/SSR_IntercambioPermitido.png", desc: "Puedes cambiar un Pokémon muerto por otro de la caja y este último queda muerto para siempre (no puede revivir con ninguna carta)." },
            { nombre: "Ceniza de Ho-Oh", rareza: "UR", img: "cartas/UR_CenizadeHo-Oh.png", desc: "Puedes revivir 1 Pokémon muerto. Solo puede activarse una vez en toda la run. Si vuelve a salirte esta carta roba otra." },
            { nombre: "Sin Mochila", rareza: "N", img: "cartas/N_SinMochila.png", desc: "En el próximo combate no puedes usar objetos consumibles." },
            { nombre: "Inicio Forzado", rareza: "R", img: "cartas/R_InicioForzado.png", desc: "El próximo combate debe empezarlo el primer Pokémon del equipo, aunque no quieras (puedes cambiar una vez que salga)." },
            { nombre: "Destino Inapelable", rareza: "SR", img: "cartas/SR_DestinoInapelable.png", desc: "La próxima muerte es definitiva, el pokémon muerto no puede ser salvado por ninguna carta." },
            { nombre: "Ruina Gradual", rareza: "SSR", img: "cartas/SSR_RuinaGradual.png", desc: "Durante el próximo gimnasio con cada combate con un súbdito pierde un espacio del equipo hasta ganar al líder. En caso de estar en liga pokémon esta carta elimina un espacio cada 2 altos mandos." },
            { nombre: "Mano Vacía", rareza: "UR", img: "cartas/UR_ManoVac%C3%ADa.png", desc: "Descarta todas las cartas guardadas excepto una (la que tú elijas), esto afecta también a las cartas negativas activas." }
        ];

        // Función para sacar carta aleatoria
        function sacarCarta() {
    const visual = document.getElementById('card-visual');
    visual.style.transform = "rotateY(90deg)"; 

    setTimeout(() => {
        // 1. Generar un número del 1 al 100
        const azar = Math.floor(Math.random() * 100) + 1;
        let rarezaElegida;

        // 2. Determinar rareza según el número
        if (azar <= 50) { rarezaElegida = "N"; }        // 1 al 50
        else if (azar <= 80) { rarezaElegida = "R"; }   // 51 al 80
        else if (azar <= 94) { rarezaElegida = "SR"; }  // 81 al 94
        else if (azar <= 99) { rarezaElegida = "SSR"; } // 95 al 99
        else { rarezaElegida = "UR"; }                  // 100

        // 3. Filtrar todas las cartas que tengan esa rareza
        const posiblesCartas = cartas.filter(c => c.rareza === rarezaElegida);
        
        // 4. Elegir una al azar de ese grupo (por si tienes varias N, varias R, etc.)
        const carta = posiblesCartas[Math.floor(Math.random() * posiblesCartas.length)];

        // 5. Mostrar en pantalla (Igual que antes)
        visual.style.backgroundImage = `url('${carta.img}')`;
        visual.style.transform = "rotateY(0deg)";
        
        const rTag = document.getElementById('rarity');
        rTag.innerText = carta.rareza;
        rTag.className = `rarity-tag ${carta.rareza}`;
        rTag.style.display = "inline-block";
        
        document.getElementById('card-name').innerText = carta.nombre;
        document.getElementById('card-desc').innerText = carta.desc;
    }, 200);
}

        // Función para rellenar la galería al cargar la página
        function cargarGaleria() {
            const galeriaContainer = document.getElementById('galeria');
            
            cartas.forEach(carta => {
                const div = document.createElement('div');
                div.className = 'mini-card';
                div.innerHTML = `
                    <div class="mini-img" style="background-image: url('${carta.img}')"></div>
                    <span class="rarity-tag ${carta.rareza}">${carta.rareza}</span>
                    <h4>${carta.nombre}</h4>
                    <p>${carta.desc}</p>
                `;
                galeriaContainer.appendChild(div);
            });
        }

        // Ejecutar carga de galería al iniciar
        window.onload = cargarGaleria;
    </script>
</body>
</html>
